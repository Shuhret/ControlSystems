<UserControl x:Class="ControlSystemsLibrary.Views.ATI_Contents.ATI_Nomenclature"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ControlSystemsLibrary.Views.ATI_Contents.Nomenclature"
             x:Name="nom"
             mc:Ignorable="d" 
             d:DesignHeight="900" d:DesignWidth="1440" Unloaded="Nom_Unloaded" KeyDown="Nom_KeyDown" Loaded="Nom_Loaded">

    <UserControl.Resources>
        <!--Стиль DataGrid-->
        <!--#region DataGrid-->

        <Style x:Key="ColumnHeaderStyle1" TargetType="DataGridColumnHeader">
            <!--Стиль для области заголовка-->
            <Setter Property="Height" Value="40"/>
            <Setter Property="Background">
                <Setter.Value>
                    <SolidColorBrush Color="{DynamicResource Light-001}"/>
                </Setter.Value>

                <!--<Setter.Value>
                    <SolidColorBrush Color="{StaticResource Light-004}"/>
                </Setter.Value>-->
            </Setter>
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <SolidColorBrush Color="{DynamicResource Light-005}"/>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Foreground">
                <Setter.Value>
                    <SolidColorBrush Color="{DynamicResource Dark-003}"/>
                </Setter.Value>
            </Setter>
            <Setter Property="SelectiveScrollingGrid.AllowDrop" Value="False"/>
            <Setter Property="FontSize" Value="13" />
            <Setter Property="FontFamily" Value="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed"/>
            <Setter Property="DataGridColumnHeader.SeparatorBrush" Value="Yellow"/>
            <Setter Property="SeparatorVisibility" Value="Visible" />
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <!--<Setter Property="HorizontalContentAlignment" Value="Center"/>-->
            <Setter Property="Padding" Value="10,0,0,0"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="ToolTip" Value="Click to sort."/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="DataGridRow">
            <EventSetter Event="MouseDoubleClick" Handler="Row_DoubleClick"/>
            <EventSetter Event="PreviewKeyDown" Handler="DataGridRow_PreviewKeyDown"/>

            <Setter Property="Background">
                <Setter.Value>
                    <SolidColorBrush Color="{StaticResource Light-002}"/>
                </Setter.Value>
            </Setter>

            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" >
                        <Setter.Value>
                            <SolidColorBrush Color="{DynamicResource Light-003}"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="FontWeight"  Value="Bold" />
                    <Setter Property="Background" >
                        <Setter.Value>
                            <SolidColorBrush Color="{DynamicResource Light-001}"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="DataGridCell">
            <Style.Setters>

                <!--<Setter Property="Background">
                    <Setter.Value>
                        <SolidColorBrush Color="{DynamicResource Light-001}"/>
                    </Setter.Value>
                </Setter>-->
                <Setter Property="Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="{DynamicResource Dark-003}"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="FontFamily" Value="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed"/>
                <Setter Property="FontSize" Value="12.667"/>
                <Setter Property="FontStyle" Value="Normal"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type DataGridCell}">
                            <Grid Background="{TemplateBinding Background}">
                                <ContentPresenter VerticalAlignment="Center" Margin="7,0,0,0"/>
                                <!--Выравнивание текста в ячейках по вертикали-->
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

                <!--<Setter Property="TextBlock.TextAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center"/>-->
            </Style.Setters>
            <Style.Triggers>
                <Trigger Property="DataGridCell.IsSelected" Value="True">
                    <Setter Property="Background" >
                        <Setter.Value>
                            <SolidColorBrush Color="{DynamicResource Light-003}"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="Foreground">
                        <Setter.Value>
                            <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="BorderBrush" Value="Transparent"/>


                </Trigger>
            </Style.Triggers>
        </Style>





        <Style TargetType="DataGrid" x:Key="NomenDG">
            <!-- Make the border and grid lines a little less imposing -->


            <Setter Property="BorderBrush" Value="Red">
                <!--<Setter.Value>
                <SolidColorBrush Color="{DynamicResource Red-001}"/>
            </Setter.Value>-->
            </Setter>

            <!--Цвет границ вокруг-->
            <Setter Property="BorderThickness" Value="0"/>
            <!--Толшина границ-->
            <Setter Property="HorizontalGridLinesBrush" >
                <Setter.Value>
                    <SolidColorBrush Color="{DynamicResource Light-004}"/>
                </Setter.Value>
            </Setter>

            <!--Цвет горизонтальных линий-->
            <Setter Property="VerticalGridLinesBrush" Value="Transparent"/>


            <Setter Property="VerticalGridLinesBrush" Value="Transparent"/>
            <!--Цвет вертикальных линий-->
            <Setter Property="RowHeaderWidth" Value="0"/>
            <!--Ширина области заголовка строк-->
            <!--<Setter Property="ColumnHeaderHeight" Value="30"/>-->
            <!--Высота области заголовка столбцов-->
            <Setter Property="ColumnHeaderStyle" Value="{DynamicResource ColumnHeaderStyle1}"/>
            <!--Привязка стиля заголовка ()-->

            <Setter Property="Background" Value="White"/>

            <!--Цвет заднего фона (прозрачный)-->
            <Setter Property="RowBackground" Value="Transparent"/>
            <!--Цвет строки-->
            <Setter Property="AlternatingRowBackground" Value="Transparent"/>

            <!--Цвет строки через одну строку-->

            <Setter Property="VerticalContentAlignment" Value="Center"/>

            <Setter Property="SelectionMode" Value="Extended"/>


            <!--Метод выбора строки(целая строка или отдельная ячейка)-->
            <Setter Property="CanUserSortColumns" Value="False"/>
            <!--******************** Сортировка ******************** -->
            <!--Разрещение(Запрет) на фильрацию-->
            <Setter Property="ColumnWidth" Value="*"/>
            <Setter Property="RowHeight" Value="35"/>
            <!--Высота строк-->

            <!--<Setter Property="RowStyle">
                -->
            <!--Стиль строк-->
            <!--
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Style.Triggers>
                            -->
            <!-- Highlight a grid row as the mouse passes over -->
            <!--
                            <Trigger Property="IsMouseOver" Value="True">
                                -->
            <!--<Setter Property="FontWeight"  Value="Bold" />-->
            <!--
                                <Setter Property="Background" >
                                    <Setter.Value>
                                        <SolidColorBrush Color="{DynamicResource Light-002}"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>-->


            <Setter Property="CellStyle">
                <Setter.Value>
                    <Style TargetType="DataGridCell">
                        <Style.Triggers>

                            <!-- Highlight selected rows -->

                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="LightBlue" />
                                <Setter Property="BorderBrush" Value="Transparent" />
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="Background" Value="#ff66ccff" />
                                <Setter Property="BorderBrush" Value="Black" />
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                        </Style.Triggers>

                        <!-- Add some padding around the contents of a cell -->

                        <Setter Property="Padding" Value="4,3,4,3" />
                        <Setter Property="BorderBrush" Value="Transparent"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridCell">
                                    <Border Padding="{TemplateBinding Padding}" 
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            Background="{TemplateBinding Background}">
                                        <ContentPresenter />
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="FocusVisualStyle">
                            <Setter.Value>
                                <Style TargetType="Control">
                                    <Setter Property="BorderBrush" Value="Transparent" />
                                </Style>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>
        <!--#endregion -->
        <!--Стиль DataGrid-->


        <Style x:Key="NoTextCircleCheckBoxStyle" TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <Grid Background="Transparent" Margin="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="0" Height="Auto" Width="Auto" d:LayoutOverrides="Height">
                                <Grid>
                                    <Rectangle x:Name="rct2" Visibility="Hidden" Margin="-1" >
                                        <Rectangle.Stroke>
                                            <SolidColorBrush Color="#FF1697FC"/>
                                        </Rectangle.Stroke>
                                    </Rectangle>
                                    <Rectangle x:Name="rct" Visibility="Hidden" Margin="3" >
                                        <Rectangle.Fill>
                                            <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <Viewbox x:Name="vb" Margin="1,1,1,1" Visibility="Hidden">
                                        <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                            <Canvas Height="16.547" Canvas.Left="2.5" Canvas.Top="6.727" Width="25">
                                                <Path Data="M2.5,14.8188L10.954,23.2738L27.5,6.7268" Height="17.547" Canvas.Left="-0.5" StrokeStartLineCap="Round" Stretch="Fill" StrokeEndLineCap="Round" StrokeThickness="7" StrokeLineJoin="Round" Canvas.Top="-0.5" Width="26">
                                                    <Path.Stroke>
                                                        <SolidColorBrush Color="#FF1697FC"/>
                                                    </Path.Stroke>
                                                </Path>
                                            </Canvas>
                                        </Canvas>
                                    </Viewbox>
                                </Grid>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="Visibility" TargetName="rct2" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="{x:Null}">
                                <Setter Property="Visibility" TargetName="rct" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Visibility" TargetName="vb" Value="Visible"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="GiftCheckBoxStyle" TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <Grid>
                            <Border Background="Transparent">
                                <Viewbox Width="18">
                                    <Canvas Height="50" UseLayoutRounding="False" VerticalAlignment="Top" Width="50">
                                        <Canvas Height="49.924" Canvas.Left="0" Canvas.Top="0.038" Width="50">
                                            <Path x:Name="path" Data="F1M35.2988,4.2075C36.1628,3.4995,37.3428,3.1065,38.4438,3.4215C39.9378,3.8935,40.8808,5.2295,40.8018,6.8015C40.6448,8.5315,39.1518,9.7105,37.4208,9.7105L29.8738,9.7105L29.8738,9.2395L29.8738,9.1605C31.1318,7.9805,33.8838,5.5435,35.2988,4.2075 M37.5788,0.0405000000000033L37.4998,0.0405000000000033C35.9278,0.0405000000000033,34.4338,0.669500000000003,33.2548,1.7705L28.6158,5.9365C27.7518,4.9155,26.4148,4.2865,24.9998,4.2865C23.5848,4.2865,22.3268,4.9155,21.3838,5.9365L16.8238,1.7705C14.8588,-0.037499999999997,12.1858,-0.430499999999997,9.8268,0.591500000000003C7.2328,1.7705,5.7388,4.3645,5.9748,7.1945C6.1318,8.1385,6.4468,9.0035,6.9188,9.7105L3.3018,9.7105C1.4938,9.7105,-0.000199999999999534,11.2045,-0.000199999999999534,13.0125L-0.000199999999999534,17.8865C-0.000199999999999534,18.8305,0.707799999999999,19.5375,1.6508,19.5375L48.3488,19.5375C49.2918,19.5375,49.9998,18.8305,49.9998,17.8865L49.9998,13.0125C49.9998,11.2045,48.5848,9.7105,46.7768,9.7105L43.0818,9.7105C43.6318,9.0035,43.9458,8.1385,44.0258,7.1945C44.2608,4.3645,42.7678,1.7705,40.1728,0.591500000000003C39.3088,0.276500000000003,38.4438,0.0405000000000033,37.5788,0.0405000000000033 M3.3018,46.7395C3.3018,48.5465,4.7168,49.9615,6.5258,49.9615L21.7768,49.9615L21.7768,22.7615L3.3018,22.7615z M28.3018,49.9615L43.4748,49.9615C45.2828,49.9615,46.7768,48.5465,46.7768,46.7395L46.7768,22.7615L28.3018,22.7615z M9.3558,5.7795C9.5908,4.8365,10.2198,4.0505,11.0848,3.6575C12.2638,3.1065,13.6008,3.2645,14.6228,4.1285L20.1258,9.1605L20.1258,9.2395L20.1258,9.7105L12.4218,9.7105C10.4558,9.7105,8.8048,7.8235,9.3558,5.7795" Height="49.924" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="50" Fill="#FFDFE1E4"/>
                                        </Canvas>
                                    </Canvas>
                                </Viewbox>
                            </Border>
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Visibility="Collapsed"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Fill" TargetName="path" Value="#FFFF7881"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FocusCheckBoxStyle" TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <Grid>
                            <Border Background="Transparent">
                                <Viewbox Width="17">
                                    <Canvas Height="50" UseLayoutRounding="False" VerticalAlignment="Top" Width="50">
                                        <Canvas Height="50" Canvas.Left="0" Canvas.Top="0" Width="50">
                                            <Path x:Name="path" Data="M48.5449,20.6191L42.6619,20.6191C41.8579,20.6191,41.2069,19.9381,41.2069,19.1331L41.2069,8.7921L30.8669,8.7921C30.0619,8.7921,29.3809,8.1421,29.3809,7.3371L29.3809,1.4551C29.3809,0.650099999999998,30.0619,9.99999999997669E-05,30.8669,9.99999999997669E-05L48.5449,9.99999999997669E-05C49.3499,9.99999999997669E-05,49.9999,0.650099999999998,49.9999,1.4551L49.9999,19.1331C49.9999,19.9381,49.3499,20.6191,48.5449,20.6191 M7.3369,20.6191L1.45489999999999,20.6191C0.649899999999995,20.6191,-0.00010000000000332,19.9381,-0.00010000000000332,19.1331L-0.00010000000000332,1.4551C-0.00010000000000332,0.650099999999998,0.649899999999995,9.99999999997669E-05,1.45489999999999,9.99999999997669E-05L19.1329,9.99999999997669E-05C19.9379,9.99999999997669E-05,20.6189,0.650099999999998,20.6189,1.4551L20.6189,7.3371C20.6189,8.1421,19.9379,8.7921,19.1329,8.7921L8.7929,8.7921L8.7929,19.1331C8.7929,19.9381,8.1429,20.6191,7.3369,20.6191 M19.1329,50.0001L1.45489999999999,50.0001C0.649899999999995,50.0001,-0.00010000000000332,49.3491,-0.00010000000000332,48.5451L-0.00010000000000332,30.8671C-0.00010000000000332,30.0611,0.649899999999995,29.3811,1.45489999999999,29.3811L7.3369,29.3811C8.1429,29.3811,8.7929,30.0611,8.7929,30.8671L8.7929,41.2071L19.1329,41.2071C19.9379,41.2071,20.6189,41.8571,20.6189,42.6621L20.6189,48.5451C20.6189,49.3491,19.9379,50.0001,19.1329,50.0001 M48.5449,50.0001L30.8669,50.0001C30.0619,50.0001,29.3809,49.3491,29.3809,48.5451L29.3809,42.6621C29.3809,41.8571,30.0619,41.2071,30.8669,41.2071L41.2069,41.2071L41.2069,30.8671C41.2069,30.0611,41.8579,29.3811,42.6619,29.3811L48.5449,29.3811C49.3499,29.3811,49.9999,30.0611,49.9999,30.8671L49.9999,48.5451C49.9999,49.3491,49.3499,50.0001,48.5449,50.0001" Height="50" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="50" Fill="#FFDFE1E4"/>
                                        </Canvas>
                                    </Canvas>

                                </Viewbox>
                            </Border>
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Visibility="Collapsed"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Fill" TargetName="path" Value="#FF1697FC"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NewCheckBoxStyle" TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <Grid>
                            <Border Background="Transparent">
                                <Viewbox Width="18">
                                    <Canvas Height="50" UseLayoutRounding="False" VerticalAlignment="Top" Width="50">
                                        <Canvas Height="50" Canvas.Left="0" Canvas.Top="0" Width="50">
                                            <Path x:Name="path" Data="M47.1641,21.2974C46.3761,20.7454,45.4041,20.0364,45.3001,19.5644C45.3521,18.6714,45.6141,17.8044,46.0341,17.0164C46.7181,15.4674,47.4271,13.8394,46.6391,12.5004C45.8771,11.1604,44.0921,10.9504,42.3851,10.7664C41.5181,10.7664,40.6511,10.5564,39.8631,10.1624C39.4701,9.3754,39.2601,8.5084,39.2601,7.6154C39.0501,5.9084,38.8651,4.1494,37.5001,3.3614C36.1611,2.5734,34.5591,3.2564,32.9831,3.9394C32.2221,4.3854,31.3291,4.6484,30.4351,4.7004C29.9631,4.5694,29.2541,3.6244,28.7031,2.8364C27.7051,1.5234,26.6021,0.000399999999999068,25.0001,0.000399999999999068C23.3981,0.000399999999999068,22.2951,1.5234,21.2971,2.8364C20.7461,3.6244,20.0371,4.5694,19.5641,4.7004C18.6711,4.6484,17.8051,4.3854,17.0171,3.9394C15.4411,3.2564,13.8391,2.5734,12.5001,3.3614C11.1611,4.1234,10.9511,5.9084,10.7411,7.6154C10.7411,8.4824,10.5301,9.3484,10.1371,10.1624C9.3491,10.5304,8.4821,10.7404,7.6161,10.7404C5.9091,10.9504,4.1491,11.1344,3.3611,12.4734C2.57409999999999,13.8394,3.2561,15.4414,3.9391,17.0164C4.3861,17.7784,4.6481,18.6714,4.7011,19.5644C4.5691,20.0364,3.5981,20.7454,2.83609999999999,21.2974C1.5231,22.2954,9.99999999962142E-05,23.3984,9.99999999962142E-05,25.0004C9.99999999962142E-05,26.6014,1.5231,27.7054,2.83609999999999,28.7034C3.6241,29.2544,4.5961,29.9634,4.7011,30.4354C4.6481,31.3294,4.3861,32.1954,3.9391,32.9834C3.2831,34.5324,2.57409999999999,36.1614,3.3611,37.5004C4.1231,38.8394,5.9091,39.0494,7.58909999999999,39.2334C8.4821,39.2334,9.3491,39.4434,10.1371,39.8374C10.5301,40.6254,10.7411,41.4914,10.7411,42.3844C10.9511,44.0914,11.1341,45.8504,12.4741,46.6384C13.8391,47.4264,15.4411,46.7174,16.9911,46.0344C17.7781,45.5884,18.6711,45.3514,19.5641,45.2994C20.0371,45.4304,20.7461,46.3764,21.2971,47.1644C22.2951,48.4764,23.3981,50.0004,25.0001,50.0004C26.6021,50.0004,27.7051,48.4764,28.7031,47.1644C29.2541,46.3764,29.9631,45.4044,30.4351,45.2994C31.3291,45.3514,32.1951,45.6144,32.9831,46.0344C34.5321,46.7174,36.1611,47.4264,37.5001,46.6384C38.8391,45.8774,39.0501,44.0914,39.2331,42.3844C39.2601,41.5174,39.4701,40.6514,39.8371,39.8634C40.6511,39.4694,41.5181,39.2594,42.3851,39.2594C44.0921,39.0494,45.8511,38.8654,46.6391,37.5264C47.4271,36.1614,46.7181,34.5584,46.0341,33.0094C45.5881,32.2214,45.3521,31.3294,45.3001,30.4354C45.4311,29.9634,46.3761,29.2544,47.1641,28.7034C48.4761,27.7054,50.0001,26.6014,50.0001,25.0004C50.0001,23.3984,48.4761,22.2954,47.1641,21.2974" Height="50" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="50" Fill="#FFDFE1E4"/>
                                            <Path Data="M26.2344,26.2344L22.5314,26.2344L22.5314,28.6764L26.2344,28.6764C26.8904,28.6764,27.4424,29.2274,27.4424,29.9114C27.4424,30.5934,26.8904,31.1444,26.2344,31.1444L21.3234,31.1444C20.6404,31.1444,20.0894,30.5934,20.0894,29.9114L20.0894,25.0004L20.0894,20.0894C20.0894,19.4064,20.6404,18.8554,21.3234,18.8554L26.2344,18.8554C26.8904,18.8554,27.4424,19.4064,27.4424,20.0894C27.4424,20.7724,26.8904,21.3234,26.2344,21.3234L22.5314,21.3234L22.5314,23.7654L26.2344,23.7654C26.8904,23.7654,27.4424,24.3174,27.4424,25.0004C27.4424,25.6824,26.8904,26.2344,26.2344,26.2344 M38.4984,31.1444C37.9724,31.1444,37.5004,30.8034,37.3424,30.3044L36.0554,26.4184L34.7684,30.3044C34.6114,30.8304,34.0864,31.1714,33.5344,31.1444C33.0094,31.1194,32.5374,30.7244,32.4054,30.1994L29.9364,20.3784C29.7794,19.7214,30.1724,19.0654,30.8304,18.9074C31.4864,18.7234,32.1694,19.1444,32.3274,19.8004L33.7714,25.5254L34.8744,22.1644C35.1634,21.5074,35.9244,21.2184,36.5814,21.5074C36.8434,21.6384,37.0804,21.8754,37.2114,22.1644L38.3404,25.5254L39.7584,19.8004C39.9164,19.1444,40.5984,18.7234,41.2554,18.9074C41.9124,19.0654,42.3054,19.7214,42.1484,20.3784L39.6794,30.1994C39.5474,30.7244,39.1014,31.1194,38.5504,31.1444z M16.4124,31.1444C16.0194,31.1444,15.6514,30.9614,15.4154,30.6464L10.2684,23.7654L10.2684,29.9114C10.2684,30.5934,9.7164,31.1444,9.0334,31.1444C8.3774,31.1444,7.8254,30.5934,7.8254,29.9114L7.8254,20.0894C7.8254,19.4064,8.3774,18.8554,9.0334,18.8554C9.4274,18.8554,9.7954,19.0394,10.0314,19.3544L15.1784,26.2344L15.1784,20.0894C15.1784,19.4064,15.7304,18.8554,16.4124,18.8554C17.0954,18.8554,17.6474,19.4064,17.6474,20.0894L17.6474,29.9114C17.6474,30.4354,17.3054,30.9084,16.8064,31.0664C16.6754,31.1194,16.5444,31.1444,16.4124,31.1444" Fill="White" Height="12.29" Canvas.Left="7.825" Stretch="Fill" Canvas.Top="18.855" Width="34.357"/>
                                        </Canvas>
                                    </Canvas>
                                </Viewbox>
                            </Border>
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Visibility="Collapsed"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Fill" TargetName="path" Value="#FFFFC107"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ButtonStyle1" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <ControlTemplate.Resources>
                            <Storyboard x:Key="Storyboard1">
                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="RF">
                                    <EasingDoubleKeyFrame KeyTime="0" Value="1"/>
                                    <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0"/>
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                        </ControlTemplate.Resources>
                        <Grid>
                            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                                <Grid>
                                    <Rectangle x:Name="RB" Fill="Black" Opacity="0"/>
                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                    <Rectangle x:Name="RF" Fill="White" Opacity="0"/>
                                </Grid>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True"/>
                            <Trigger Property="IsDefaulted" Value="True"/>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" TargetName="RB" Value="0.02"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard Storyboard="{StaticResource Storyboard1}"/>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False"/>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>
    <UserControl.Background>
        <SolidColorBrush Color="{DynamicResource Light-002}"/>
    </UserControl.Background>
    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border x:Name="HeaderBorder" Margin="0" BorderThickness="0" Height="40">
            <Border.Background>
                <SolidColorBrush Color="{DynamicResource Light-001}"/>
            </Border.Background>
            <Border.BorderBrush>
                <SolidColorBrush Color="{DynamicResource Light-005}"/>
            </Border.BorderBrush>

            <Grid x:Name="HeaderGrid" Margin="5,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition />
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" SnapsToDevicePixels="False" Margin="0" >
                    <Button x:Name="ButtonCreateNomenclature"  Background="Transparent" Style="{DynamicResource BoxButtonStyle}" Margin="0" Click="ButtonCreateNomenclature_Click" VerticalAlignment="Bottom" Height="25" Width="38" Cursor="Hand" ToolTip="Создать новую номенклатуру (Ctrl+N)" BorderThickness="0">
                        <Button.BorderBrush>
                            <SolidColorBrush Color="{DynamicResource Light-005}"/>
                        </Button.BorderBrush>
                        <Viewbox Width="18">
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="30" Canvas.Left="0" Canvas.Top="0" Width="30">
                                    <Path Data="M5.2437,7.5889C6.5357,7.5889,7.5887,6.5349,7.5887,5.2439C7.5887,3.9529,6.5357,2.8989,5.2437,2.8989C3.9527,2.8989,2.8987,3.9529,2.8987,5.2439C2.8987,6.5349,3.9527,7.5889,5.2437,7.5889 M29.2487,17.0229L16.9697,29.2489C15.9687,30.2499,14.3607,30.2499,13.3597,29.2489L1.2647,17.3129C-0.000300000000000189,16.0479,-0.000300000000000189,13.2809,-0.000300000000000189,12.6749L-0.000300000000000189,2.5559C-0.000300000000000189,1.1589,1.0277,-0.000100000000001543,2.4247,-0.000100000000001543L13.1487,0.0268999999999986C14.8357,0.0268999999999986,16.1007,0.447899999999999,17.3657,1.7129L29.2487,13.4389C30.2497,14.4139,30.2497,16.0219,29.2487,17.0229" Fill="#FF00B9ED" Height="30" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="30"/>
                                    <Path Data="M14.9937,6.7983C15.8367,6.7983,16.5217,7.4833,16.5217,8.3003L16.5217,13.4913L21.6867,13.4913C22.5297,13.4913,23.1887,14.1763,23.1887,14.9933C23.1887,15.8363,22.5297,16.5213,21.6867,16.5213L16.5217,16.5213L16.5217,21.6863C16.5217,22.5293,15.8367,23.2153,14.9937,23.2153C14.1507,23.1883,13.4917,22.5293,13.4917,21.6863L13.4917,16.5213L8.3007,16.5213C7.4837,16.5213,6.7987,15.8363,6.7987,14.9933C6.7987,14.1503,7.4837,13.4913,8.3007,13.4913L13.4917,13.4913L13.4917,8.3003C13.4917,7.4833,14.1507,6.7983,14.9937,6.7983" Fill="White" Height="16.417" Canvas.Left="6.799" Stretch="Fill" Canvas.Top="6.798" Width="16.39"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                    <Button x:Name="ButtonCreateNomenGroup" Background="Transparent" Style="{DynamicResource BoxButtonStyle}" Margin="0" VerticalAlignment="Bottom" Height="25" ToolTip="Создать новую группу (Ctrl+G)" Click="ButtonCreateNomenGroup_Click" Width="38" Cursor="Hand" BorderThickness="0">
                        <Viewbox Width="20">
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="23.991" Canvas.Left="0.064" Canvas.Top="3.178" Width="30">
                                    <Path Data="M28.0527,7.1768L15.6077,7.1768C15.2527,7.1768,14.9457,7.0108,14.7567,6.7268L11.3487,3.4628C11.1597,3.2728,10.9237,3.1778,10.6627,3.1778L2.0747,3.1778C0.962700000000002,3.1778,0.0637000000000008,4.0768,0.0637000000000008,5.1898L0.0637000000000008,25.1818C0.0637000000000008,26.2928,0.962700000000002,27.1688,2.0747,27.1688L28.0527,27.1688C29.1647,27.1688,30.0637,26.2928,30.0637,25.1818L30.0637,9.1878C30.0637,8.0758,29.1647,7.1768,28.0527,7.1768" Fill="#FFFFA633" Height="23.991" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="30"/>
                                    <Path Data="M0.064,7.1768L28.053,7.1768C29.165,7.1768,30.064,8.0758,30.064,9.1878L30.064,25.1818C30.064,26.2698,29.165,27.1688,28.053,27.1688L2.075,27.1688C0.963,27.1688,0.064,26.2698,0.064,25.1818z" Fill="#FFFDBB62" Height="19.992" Canvas.Left="0" Stretch="Fill" Canvas.Top="3.999" Width="30"/>
                                    <Path Data="M15.064,9.8027C15.821,9.8267,16.412,10.4177,16.412,11.1757L16.412,15.8127L21.073,15.8127C21.83,15.8127,22.422,16.4277,22.422,17.1847C22.422,17.9417,21.83,18.5327,21.073,18.5327L16.412,18.5327L16.412,23.1947C16.412,23.9277,15.821,24.5427,15.064,24.5427C14.307,24.5427,13.715,23.9277,13.715,23.1947L13.715,18.5327L9.054,18.5327C8.297,18.5327,7.706,17.9417,7.706,17.1847C7.706,16.4277,8.297,15.8127,9.054,15.8127L13.715,15.8127L13.715,11.1757C13.715,10.4177,14.307,9.8267,15.064,9.8027" Fill="White" Height="14.74" Canvas.Left="7.642" Stretch="Fill" Canvas.Top="6.625" Width="14.716"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                    <Button x:Name="ButtonEdit" Background="Transparent" Style="{DynamicResource BoxButtonStyle}" Margin="0" VerticalAlignment="Bottom" Height="25" ToolTip="Редактировать (F2)" Click="ButtonEdit_Click" Width="38" Cursor="Hand" BorderThickness="0">
                        <Viewbox Width="18">
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="29.993" Canvas.Left="0" Canvas.Top="0.003" Width="30">
                                    <Path Data="M19.1592,8.2183L21.8052,10.8643L9.1242,23.5183L6.4782,20.8993z" Fill="#FFFF4D5D" Height="15.3" Canvas.Left="6.478" Stretch="Fill" Canvas.Top="8.215" Width="15.327"/>
                                    <Path Data="M15.1895,4.249L17.8085,6.868L5.1275,19.549L2.5085,16.902z" Fill="#FFFF4D5D" Height="15.3" Canvas.Left="2.508" Stretch="Fill" Canvas.Top="4.246" Width="15.3"/>
                                    <Path Data="M23.1289,12.188L25.7749,14.834L13.0939,27.516L10.4759,24.869z" Fill="#FFFF4D5D" Height="15.328" Canvas.Left="10.476" Stretch="Fill" Canvas.Top="12.185" Width="15.299"/>
                                    <Path Data="M23.5146,1.0786L28.9456,6.5096C30.3516,7.9146,30.3516,10.2586,28.9456,11.6646L27.5396,13.0706L16.9256,2.4846L18.3316,1.0786C19.7656,-0.355399999999998,22.0806,-0.355399999999998,23.5146,1.0786" Fill="#FF566283" Height="13.067" Canvas.Left="16.925" Stretch="Fill" Canvas.Top="0" Width="13.075"/>
                                    <Path Data="M0.0273,29.9688L0.0273,26.2198L0.000300000000000002,22.4708L3.7773,26.2468L7.5263,29.9958L3.7773,29.9958z" Fill="#FF566283" Height="7.525" Canvas.Left="0" Stretch="Fill" Canvas.Top="22.468" Width="7.526"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                    <Button x:Name="ButtonSelectedNomenclatures" Background="Transparent" Visibility="{Binding ListOfSelectedButtonVisibility, ElementName=nom, UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource BoxButtonStyle}" Margin="0" Click="ButtonSelectedNomenclatures_Click" VerticalAlignment="Bottom" Height="25" Width="38" Cursor="Hand" ToolTip="Выбранные" BorderThickness="0">
                        <Viewbox Width="18">
                            <Canvas HorizontalAlignment="Left" Height="70" UseLayoutRounding="False" VerticalAlignment="Top" Width="70">
                                <Canvas Height="70" Canvas.Left="7.713" Canvas.Top="0" Width="54.58">
                                    <Path Data="F1M60.4209,1.9419C57.8319,-0.647099999999996,53.6709,-0.647099999999996,51.1739,1.9419L28.0569,24.9669L18.9019,15.7199C16.3129,13.2229,12.1519,13.2229,9.6549,15.7199C7.06590000000001,18.3089,7.06590000000001,22.4699,9.6549,24.9669L23.4329,38.8379C26.0229,41.3339,30.1839,41.3339,32.6799,38.8379L60.4209,11.1889C62.9179,8.59990000000001,62.9179,4.4389,60.4209,1.9419" Fill="#FF93C359" Height="40.71" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="54.58"/>
                                    <Path Data="F1M60.4209,31.1626C57.8319,28.6656,53.6709,28.6656,51.1739,31.1626L28.0569,54.2806L18.9019,45.0336C16.3129,42.4446,12.1519,42.4446,9.6549,45.0336C7.06590000000001,47.5296,7.06590000000001,51.6906,9.6549,54.2806L23.4329,68.0586C26.0229,70.6476,30.1839,70.6476,32.6799,68.0586L60.4209,40.4096C62.9179,37.8206,62.9179,33.7516,60.4209,31.1626" Fill="#FF93C359" Height="40.711" Canvas.Left="0" Stretch="Fill" Canvas.Top="29.29" Width="54.58"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                    <Button x:Name="ButtonCut" Background="Transparent" Style="{DynamicResource BoxButtonStyle}" Click="ButtonCut_Click" VerticalAlignment="Bottom" Height="25" ToolTip="Вырезать (Ctrl+X)" Width="38" Margin="0" Cursor="Hand" BorderThickness="0">
                        <Viewbox Width="20">
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="29.037" Canvas.Left="0" Canvas.Top="0.481" Width="30">
                                    <Path Data="M12.1353,11.8926L14.7423,4.2726C15.5433,1.9306,18.3933,-0.145399999999999,20.7353,0.656600000000001C20.9693,0.736600000000001,21.0943,0.994600000000002,21.0153,1.2286L17.3663,11.8926z M10.3613,13.1586L11.1843,13.1586L11.7013,13.1586L16.9323,13.1586L18.6653,13.1586L29.5513,13.1586C29.7983,13.1586,30.0003,13.3606,30.0003,13.6076C30.0003,16.0816,27.1143,18.1076,24.6393,18.1076L15.2383,18.1076L14.8033,19.3786C14.3203,19.2296,13.8073,19.1476,13.2763,19.1476C11.8513,19.1476,10.5553,19.7326,9.6133,20.6756C9.2623,21.0266,8.9603,21.4276,8.7213,21.8676L10.0083,18.1076L6.1003,18.1076C7.1583,17.9146,8.1103,17.3976,8.8453,16.6616C9.7493,15.7556,10.3213,14.5216,10.3613,13.1586" Fill="#FF90949F" Height="21.386" Canvas.Left="6.1" Stretch="Fill" Canvas.Top="0" Width="23.9"/>
                                    <Path Data="M13.2759,21.5186C14.8289,21.5186,16.0879,22.7796,16.0879,24.3336C16.0879,25.8886,14.8289,27.1486,13.2759,27.1486C11.7229,27.1486,10.4639,25.8886,10.4639,24.3336C10.4639,22.7796,11.7229,21.5186,13.2759,21.5186 M13.2759,19.1476C14.7009,19.1476,15.9969,19.7326,16.9399,20.6756C17.8779,21.6166,18.4579,22.9096,18.4579,24.3336C18.4579,25.7586,17.8779,27.0516,16.9399,27.9916C15.9969,28.9356,14.7009,29.5186,13.2759,29.5186C11.8509,29.5186,10.5549,28.9356,9.6129,27.9916C8.6739,27.0516,8.0939,25.7586,8.0939,24.3336C8.0939,22.9096,8.6739,21.6166,9.6129,20.6756C10.5549,19.7326,11.8509,19.1476,13.2759,19.1476" Fill="#FFED1518" Height="10.371" Canvas.Left="8.094" Stretch="Fill" Canvas.Top="18.666" Width="10.364"/>
                                    <Path Data="M5.1821,10.1885C6.7351,10.1885,7.9941,11.4485,7.9941,13.0025C7.9941,14.5595,6.7351,15.8185,5.1821,15.8185C3.6291,15.8185,2.3701,14.5595,2.3701,13.0025C2.3701,11.4485,3.6291,10.1885,5.1821,10.1885 M5.1821,7.8185C6.6071,7.8185,7.9031,8.4015,8.8451,9.3455C9.7841,10.2855,10.3641,11.5795,10.3641,13.0025C10.3641,14.4285,9.7841,15.7215,8.8451,16.6615C7.9031,17.6045,6.6071,18.1895,5.1821,18.1895C3.7571,18.1895,2.4611,17.6045,1.5181,16.6615C0.5801,15.7215,9.99999999997669E-05,14.4285,9.99999999997669E-05,13.0025C9.99999999997669E-05,11.5795,0.5801,10.2855,1.5181,9.3455C2.4611,8.4015,3.7571,7.8185,5.1821,7.8185" Fill="#FFED1518" Height="10.371" Canvas.Left="0" Stretch="Fill" Canvas.Top="7.337" Width="10.364"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>

                    <Button x:Name="ButtonCutList" Visibility="{Binding PasteButtonVisibility, ElementName=nom, UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource ButtonStyle-000}" VerticalAlignment="Bottom" Height="25" ToolTip="Создать новую группу (Ctrl+X)" BorderThickness="0" Margin="0" Cursor="Hand" Click="ButtonCutList_Click">
                        <Button.Background>
                            <SolidColorBrush Color="{DynamicResource Light-001}"/>
                        </Button.Background>
                        <TextBlock x:Name="CutCountTextBlock" Text="{Binding CountOfCutElements, ElementName=nom, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0" FontSize="12" FontFamily="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed">
                            <TextBlock.Foreground>
                                <SolidColorBrush Color="{DynamicResource Red-001}"/>
                            </TextBlock.Foreground>
                        </TextBlock>
                    </Button>
                    <Button x:Name="ButtonPaste" Background="Transparent" Visibility="{Binding PasteButtonVisibility, ElementName=nom, UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource BoxButtonStyle}" Margin="0" VerticalAlignment="Bottom" Height="25" ToolTip="Вставить (Ctrl+V)" Click="ButtonPaste_Click" Width="38" Cursor="Hand" BorderThickness="0">
                        <Viewbox Width="20">
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="30" Canvas.Left="1.529" Canvas.Top="0" Width="26.943">
                                    <Path Data="M2.3257,0L9.0047,0L9.0047,2.267C9.0047,2.705,9.3627,3.063,9.8017,3.063L15.6657,3.063C16.1037,3.063,16.4617,2.705,16.4617,2.267L16.4617,0L23.1407,0C23.5787,0,23.9377,0.358,23.9377,0.797L23.9377,7.509L11.3067,7.509C10.6757,7.509,10.1017,7.767,9.6877,8.181C9.2737,8.595,9.0157,9.169,9.0157,9.8L9.0157,26.962L2.3257,26.962C1.8877,26.962,1.5287,26.604,1.5287,26.166L1.5287,0.797C1.5287,0.358,1.8877,0,2.3257,0" Fill="#FF00B9ED" Height="26.962" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="22.409"/>
                                    <Path Data="M15.7671,18.0527L23.2131,18.0527C23.6191,18.0527,23.9511,18.3847,23.9511,18.7917C23.9511,19.1967,23.6191,19.5287,23.2131,19.5287L15.7671,19.5287C15.3601,19.5287,15.0281,19.1967,15.0281,18.7917C15.0281,18.3847,15.3601,18.0527,15.7671,18.0527 M15.7671,22.5417L23.2131,22.5417C23.6191,22.5417,23.9511,22.8747,23.9511,23.2817C23.9511,23.6877,23.6191,24.0187,23.2131,24.0187L15.7671,24.0187C15.3601,24.0187,15.0281,23.6877,15.0281,23.2817C15.0281,22.8747,15.3601,22.5417,15.7671,22.5417 M15.7671,13.5347L23.2131,13.5347C23.6191,13.5347,23.9511,13.8677,23.9511,14.2737C23.9511,14.6777,23.6191,15.0107,23.2131,15.0107L15.7671,15.0107C15.3601,15.0107,15.0281,14.6777,15.0281,14.2737C15.0281,13.8677,15.3601,13.5347,15.7671,13.5347 M11.3071,9.0037L27.6751,9.0037C28.1121,9.0037,28.4721,9.3617,28.4721,9.8007L28.4721,29.2027C28.4721,29.6417,28.1121,29.9997,27.6751,29.9997L11.3071,29.9997C10.8691,29.9997,10.5101,29.6417,10.5101,29.2027L10.5101,9.8007C10.5101,9.3617,10.8691,9.0037,11.3071,9.0037" Fill="#FF818693" Height="20.996" Canvas.Left="8.981" Stretch="Fill" Canvas.Top="9.004" Width="17.962"/>
                                    <Path Data="M10.455,1.546L15.012,1.546L15.012,0.0279999999999987L10.455,0.0279999999999987z" Fill="#FFED1518" Height="1.518" Canvas.Left="8.926" Stretch="Fill" Canvas.Top="0.028" Width="4.557"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                    <Button x:Name="BackButton" Background="Transparent" SnapsToDevicePixels="False" Style="{DynamicResource BoxButtonStyle}" Height="25" IsEnabled="{Binding ButtonBackEnabled, ElementName=nom, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Bottom" Cursor="Hand" Click="BackButton_Click" Width="38" Margin="30,0,0,0" ToolTip="Назад (Ctrl+Up)" BorderThickness="0">
                        <Button.BorderBrush>
                            <SolidColorBrush Color="{DynamicResource Light-005}"/>
                        </Button.BorderBrush>
                        <Viewbox Width="15" Margin="0,0,0,2" >
                            <Canvas HorizontalAlignment="Left" Height="30" UseLayoutRounding="False" VerticalAlignment="Top" Width="30">
                                <Canvas Height="27.016" Canvas.Left="0" Canvas.Top="1.492" Width="30">
                                    <Path Data="F1M0,14.9493L13.457,28.5083L17.1,24.8653L9.764,17.5293L30,17.5293L30,12.4203L9.764,12.4203L17.1,5.1353L13.457,1.4923z" Fill="#FFFF7056" Height="27.016" Canvas.Left="0" Stretch="Fill" Canvas.Top="0" Width="30"/>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                    </Button>
                </StackPanel>
                <Border VerticalAlignment="Bottom" Height="25" BorderThickness="0" Margin="0" Grid.Column="1">
                    <Border.Background>
                        <SolidColorBrush Color="{DynamicResource Light-003}"/>
                    </Border.Background>
                    <Border.BorderBrush>
                        <SolidColorBrush Color="{DynamicResource Light-005}"/>
                    </Border.BorderBrush>
                    <StackPanel Orientation="Horizontal" Margin="0">
                        <Button Style="{DynamicResource BoxButtonStyle}" Background="Transparent" BorderThickness="0" >
                            <TextBlock Text="НОМЕНКЛАТУРА" Margin="5,0" FontSize="13" FontFamily="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed">
                                <TextBlock.Foreground>
                                    <SolidColorBrush Color="{DynamicResource DarkBlue-001}"/>
                                </TextBlock.Foreground>
                            </TextBlock>
                        </Button>
                    </StackPanel>
                </Border>
                <Border Grid.Column="2" Margin="4,0,10,0" VerticalAlignment="Bottom" Height="25" BorderThickness="0">
                    <Border.Background>
                        <SolidColorBrush Color="{DynamicResource Light-003}"/>
                    </Border.Background>
                    <Border.BorderBrush>
                        <SolidColorBrush Color="{DynamicResource Light-005}"/>
                    </Border.BorderBrush>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Поиск:" Margin="5,0,0,0" VerticalAlignment="Center" FontFamily="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed">
                            <TextBlock.Foreground>
                                <SolidColorBrush Color="{DynamicResource Dark-002}"/>
                            </TextBlock.Foreground>
                        </TextBlock>
                        <TextBox x:Name="SearchTextBox" Grid.Column="1" Background="{x:Null}" BorderThickness="0" VerticalContentAlignment="Center" Padding="5,1,1,1" FontFamily="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto" Width="200">
                            <TextBox.Foreground>
                                <SolidColorBrush Color="{DynamicResource DarkBlue-001}"/>
                            </TextBox.Foreground>
                        </TextBox>
                    </Grid>
                </Border>
                <Grid Width="50" Grid.Column="3" VerticalAlignment="Bottom" Margin="0,0,10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="5*"/>
                        <ColumnDefinition Width="5*"/>
                    </Grid.ColumnDefinitions>
                    <RadioButton x:Name="TableRadioButton" Style="{DynamicResource TableRadioButtonStyle}" Checked="ChangeViewRadioButtonCheck" Unchecked="ChangeViewRadioButtonCheck" />
                    <RadioButton x:Name="TilesRadioButton" Grid.Column="1" Style="{DynamicResource TilesRadioButtonStyle}"/>
                </Grid>
            </Grid>
        </Border>
        <Grid  x:Name="RootGrid" Grid.Row="1">
            <ListBox  x:Name="ListBoxNomenclatures" ItemsSource="{Binding}" Grid.Row="1" BorderThickness="0" SelectionMode="Extended" local:ListBoxSelector.Enabled="True" ScrollViewer.HorizontalScrollBarVisibility="Disabled" >
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemContainerStyle>
                    <Style TargetType="{x:Type ListBoxItem}">
                        <Setter Property="Width" Value="200"/>
                        <Setter Property="Height" Value="200"/>
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Margin" Value="0"/>
                        <Setter Property="BorderBrush" Value="LightGray"/>
                        <Setter Property="BorderThickness" Value="0,0,1,1"/>
                        <Setter Property="Padding" Value="0"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type ListBoxItem}">
                                    <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" >
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition Height="42"/>
                                            </Grid.RowDefinitions>
                                            <ContentControl Content="{Binding Icon}" Margin="50"/>
                                            <Border Margin="20,20,20,10" Background="Transparent" CornerRadius="2">
                                                <Image Source="{Binding MainImage}" Stretch="Uniform"  RenderOptions.BitmapScalingMode="Fant"/>
                                            </Border>
                                            <TextBlock Text="{Binding Name}" TextWrapping="Wrap" HorizontalAlignment="Center" FontFamily="/ControlSystemsLibrary;component/Resources/Fonts/#Roboto Condensed" Margin="5" Grid.Row="1">
                                                <TextBlock.Foreground>
                                                    <SolidColorBrush Color="{DynamicResource DarkBlue-001}"/>
                                                </TextBlock.Foreground>
                                            </TextBlock>
                                            <Rectangle x:Name="rct" Grid.RowSpan="2" Visibility="Hidden" Opacity="0.15">
                                                <Rectangle.Fill>
                                                    <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                                                </Rectangle.Fill>
                                            </Rectangle>
                                            <Rectangle x:Name="rct2" Grid.RowSpan="2" Visibility="Hidden" Margin="1">
                                                <Rectangle.Stroke>
                                                    <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                                                </Rectangle.Stroke>
                                            </Rectangle>
                                        </Grid>
                                    </Border>
                                    <ControlTemplate.Triggers>

                                        <Trigger Property="IsSelected" Value="true">
                                            <Setter Property="Visibility" Value="Visible" TargetName="rct"/>
                                            <Setter Property="Visibility" Value="Visible" TargetName="rct2"/>
                                            <!--<Setter Property="Background" TargetName="Bd" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>-->
                                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"/>
                                        </Trigger>

                                        <MultiTrigger>
                                            <MultiTrigger.Conditions>
                                                <Condition Property="IsSelected" Value="true"/>
                                                <Condition Property="Selector.IsSelectionActive" Value="false"/>
                                            </MultiTrigger.Conditions>
                                            <Setter Property="Background" TargetName="Bd" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}"/>
                                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}}"/>
                                        </MultiTrigger>

                                        <Trigger Property="IsEnabled" Value="false">
                                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                                        </Trigger>

                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>

                </ListBox.ItemContainerStyle>

            </ListBox>
        </Grid>
        <DataGrid x:Name="DataGridNomenclatures" Style="{DynamicResource NomenDG}" BorderThickness="0" SelectionUnit="FullRow" SelectionMode="Extended" AutoGenerateColumns="False"  CanUserAddRows="False" PreviewKeyDown="DataGridNomenclatures_PreviewKeyDown" Margin="0" Grid.Row="1" Loaded="DataGridNomenclatures_Loaded" d:IsHidden="True" >
            <DataGrid.Background>
                <SolidColorBrush Color="{DynamicResource Light-002}"/>
            </DataGrid.Background>
            <DataGrid.BorderBrush>
                <SolidColorBrush Color="{DynamicResource Light-005}"/>
            </DataGrid.BorderBrush>
            <DataGrid.Columns>

                <DataGridTextColumn Header="ID" Visibility="Hidden" Width="auto" Binding="{Binding ID}"/>

                <!--Столбец CheckBox-->
                <DataGridTemplateColumn Width="40"  MinWidth="40" CanUserResize="False">

                    <DataGridTemplateColumn.Header>
                        <CheckBox x:Name="MainSelectorCheckBox" Style="{DynamicResource NoTextCircleCheckBoxStyle}" Checked="Select" Unchecked="Select" BorderThickness="1" Width="17" Height="17" Cursor="Hand" Margin="5,0,0,0" >
                            <CheckBox.Background>
                                <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                            </CheckBox.Background>
                            <CheckBox.Foreground>
                                <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                            </CheckBox.Foreground>
                            <CheckBox.BorderBrush>
                                <SolidColorBrush Color="{DynamicResource Light-005}"/>
                            </CheckBox.BorderBrush>
                        </CheckBox>
                    </DataGridTemplateColumn.Header>

                    <DataGridTemplateColumn.CellTemplate >
                        <DataTemplate >
                            <CheckBox IsChecked="{Binding Selected, UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource NoTextCircleCheckBoxStyle}" Checked="Select" Unchecked="Select" BorderThickness="1" Width="15" Height="15" Cursor="Hand">
                                <CheckBox.Background>
                                    <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                                </CheckBox.Background>
                                <CheckBox.Foreground>
                                    <SolidColorBrush Color="{DynamicResource Blue-004}"/>
                                </CheckBox.Foreground>
                                <CheckBox.BorderBrush>
                                    <SolidColorBrush Color="{DynamicResource Light-005}"/>
                                </CheckBox.BorderBrush>
                            </CheckBox>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>

                </DataGridTemplateColumn>


                <!--Столбец Иконка-->
                <DataGridTemplateColumn Width="auto" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Margin="0,0,4,0">
                                <ContentControl Margin="0,0,0,0" Content="{Binding Icon}" Width="16" Height="16"/>
                                <Rectangle Height="2" VerticalAlignment="Bottom" Visibility="{Binding CutIconVisibility}" Margin="0,2,0,0">
                                    <Rectangle.Fill>
                                        <SolidColorBrush Color="{DynamicResource Red-001}"/>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>


                <!--Столбец Название-->
                <DataGridTextColumn Header="Наименование" Width="5*" IsReadOnly="True" Binding="{Binding Name}" CanUserResize="False"/>



                <!--Столбец Артикул-->
                <DataGridTextColumn Header="Артикул" Width="2*" MinWidth="70" IsReadOnly="True" Binding="{Binding Article}" CanUserResize="False"/>


                <!--Столбец Вес базовой единицы-->
                <DataGridTextColumn Width="2*" Header="Вес базовой единицы" IsReadOnly="True" Binding="{Binding WeightBaseUnitShow}" CanUserResize="False"/>


                <!--Столбец Базовая единица-->
                <DataGridTextColumn Width="2*" Header="Базовая единица" IsReadOnly="True" Binding="{Binding BaseUnit}" CanUserResize="False"/>

                <!--Столбец Штрих код-->
                <DataGridTextColumn Width="2*" Header="Штрих код" IsReadOnly="True" Binding="{Binding Barcode}" CanUserResize="False"/>



                <!--Столбец Страна происхождения-->
                <DataGridTextColumn Width="2*" Header="Страна происхождения" IsReadOnly="True" Binding="{Binding CountryOfOrigin}" CanUserResize="False"/>

                <!--Столбец Метки-->
                <DataGridTemplateColumn Width="Auto" Header="Метки" IsReadOnly="True" MinWidth="50" CanUserResize="False">
                    <DataGridTemplateColumn.CellTemplate  >
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Visibility="{Binding TagVisibility}">
                                <CheckBox x:Name="TagAksia" Style="{DynamicResource GiftCheckBoxStyle}" Margin="0,0,25,0" Cursor="Hand"  IsChecked="{Binding Aksia, UpdateSourceTrigger=PropertyChanged}" Click="UpdateTagsClick" />
                                <CheckBox x:Name="TagFocus" Style="{DynamicResource FocusCheckBoxStyle}" Margin="0,0,25,0" Cursor="Hand"  IsChecked="{Binding Focus, UpdateSourceTrigger=PropertyChanged}" Click="UpdateTagsClick" />
                                <CheckBox x:Name="TagNew" Style="{DynamicResource NewCheckBoxStyle}" Margin="0,0,35,0" Cursor="Hand"  IsChecked="{Binding New, UpdateSourceTrigger=PropertyChanged}" Click="UpdateTagsClick" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

            </DataGrid.Columns>
        </DataGrid>
        <Grid x:Name="ToolsGrid" Grid.RowSpan="2" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="10*"/>
                <RowDefinition Height="2*"/>
            </Grid.RowDefinitions>
            <Rectangle x:Name="ToolsRect" Opacity="0.1" Grid.RowSpan="3">
                <Rectangle.Fill>
                    <SolidColorBrush Color="{DynamicResource Dark-004}"/>
                </Rectangle.Fill>
            </Rectangle>
            <ContentControl x:Name="ToolsContentControl" HorizontalAlignment="Center"/>
        </Grid>
    </Grid>
</UserControl>
